{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["//Imports\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n//Declarations\nconst key = '41103551-afb5440a0c91585482e280fcd';\nconst loader = document.querySelector('.loader');\n\n//Fetch function\nfunction getPictures(query, renderFn) {\n  //Creating serach parameters\n  const searchParams = new URLSearchParams({\n    key,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  loader.style.display = 'block';\n\n  //Getting pictures\n  fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    })\n    .then(data => {\n      const pictures = data.hits;\n      if (pictures.length === 0) {\n        iziToast.error({\n          title: 'No pictures found',\n          message: 'Try another query',\n          messageColor: 'black',\n          messageSize: '14px',\n          position: 'topCenter',\n          timeout: 3000,\n          closeOnClick: true,\n        });\n      }\n      //rendering\n      loader.style.display = 'none';\n      renderFn(pictures);\n    })\n    .catch(e => console.log(e));\n}\n\nexport default getPictures;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { gallery } from '../main';\n\n//Lightbox\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n});\n\n//Rendering function\nfunction renderPictures(pics) {\n  const markup = pics\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        //Markup\n        return `\n<li class='gallery__item'>\n       <a href='${largeImageURL}'>\n        <img src='${webformatURL}' alt='${tags}'>\n      </a>\n    <div class=\"info\">\n      \n      <div class='info-item'> \n       <p class='main-p'>Likes</p> \n       <p>${likes}</p>\n      </div>\n      \n      <div class='info-item'> \n       <p class='main-p'>Views</p>\n       <p>${views}</p>\n      </div>\n\n      <div class='info-item'>\n       <p class='main-p'>Comments</p>\n       <p>${comments}</p>\n      </div>\n\n      <div class='info-item'>\n       <p class='main-p'>Downloads</p>\n       <p>${downloads}</p>\n      </div>\n    </div>\n</li>\n    `;\n      }\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n\n  //Renewing the gallery\n  lightbox.refresh();\n}\n\nexport default renderPictures;\n","//Imports\nimport getPictures from './js/pixabay-api';\nimport renderPictures from './js/render-functions';\n\n//Declarations\nconst form = document.getElementById('form');\nexport const gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  gallery.innerHTML = '';\n\n  //Getting info from the input\n  const searchValue = e.target.elements.searchquery.value;\n  if (searchValue.trim() === '') return;\n  getPictures(searchValue, renderPictures);\n});\n"],"names":["key","loader","getPictures","query","renderFn","url","res","data","pictures","iziToast","lightbox","SimpleLightbox","renderPictures","pics","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","form","e","searchValue"],"mappings":"6vBAKA,MAAMA,EAAM,qCACNC,EAAS,SAAS,cAAc,SAAS,EAG/C,SAASC,EAAYC,EAAOC,EAAU,CASpC,MAAMC,EAAM,4BAPS,IAAI,gBAAgB,CACvC,IAAAL,EACA,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CACmD,GAEpDF,EAAO,MAAM,QAAU,QAGvB,MAAMI,CAAG,EACN,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKC,GAAQ,CACZ,MAAMC,EAAWD,EAAK,KAClBC,EAAS,SAAW,GACtBC,EAAS,MAAM,CACb,MAAO,oBACP,QAAS,oBACT,aAAc,QACd,YAAa,OACb,SAAU,YACV,QAAS,IACT,aAAc,EACxB,CAAS,EAGHR,EAAO,MAAM,QAAU,OACvBG,EAASI,CAAQ,CACvB,CAAK,EACA,MAAM,GAAK,QAAQ,IAAI,CAAC,CAAC,CAC9B,CC3CA,MAAME,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,KAChB,CAAC,EAGD,SAASC,EAAeC,EAAM,CAC5B,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAEe;AAAA;AAAA,kBAEGL,CAAa;AAAA,oBACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMlCC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,YAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,YAKLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,YAKRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAMhB,EACA,KAAK,EAAE,EAEVC,EAAQ,UAAYR,EAGpBJ,EAAS,QAAO,CAClB,CCvDA,MAAMa,EAAO,SAAS,eAAe,MAAM,EAC9BD,EAAU,SAAS,cAAc,UAAU,EAExDC,EAAK,iBAAiB,SAAUC,GAAK,CACnCA,EAAE,eAAc,EAChBF,EAAQ,UAAY,GAGpB,MAAMG,EAAcD,EAAE,OAAO,SAAS,YAAY,MAC9CC,EAAY,SAAW,IAC3BvB,EAAYuB,EAAab,CAAc,CACzC,CAAC"}